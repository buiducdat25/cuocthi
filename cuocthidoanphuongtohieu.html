<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>·ª®ng d·ª•ng Web: Cu·ªôc thi S√°ng t·∫°o T√¥ Hi·ªáu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: #f0f4f8;
        }
        .text-shadow {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 4px solid transparent;
        }
        .nav-link.active {
            color: #FFC100;
            border-bottom-color: #FFC100;
        }
        .nav-link:hover {
            color: #FFC100;
        }
        .page-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .page-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .tab-button.active {
            background-color: #004AAD;
            color: white;
            border-color: #004AAD;
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #0079FF;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 500px;
            width: 90%;
            text-align: center;
            transform: scale(0.9);
            transition: transform 0.3s;
        }
        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-[#004AAD] text-white shadow-lg sticky top-0 z-50">
        <nav class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="text-xl font-bold">
                    <a href="#" class="nav-link" data-page="home">ƒêo√†n P. T√¥ Hi·ªáu</a>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#" class="nav-link active" data-page="home">üè† Trang ch·ªß</a>
                    <a href="#" class="nav-link" data-page="rules">üìú Th·ªÉ l·ªá</a>
                    <a href="#" class="nav-link" data-page="prizes">üèÜ Gi·∫£i th∆∞·ªüng</a>
                    <a href="#" class="nav-link" data-page="submit">üöÄ N·ªôp b√†i</a>
                    <a href="#" class="nav-link" data-page="ai-assistant">‚ú® Tr·ª£ l√Ω AI</a>
                </div>
                <div class="md:hidden">
                    <select id="mobile-nav" class="bg-[#0079FF] border-none rounded-md p-2">
                        <option value="home">Trang ch·ªß</option>
                        <option value="rules">Th·ªÉ l·ªá</option>
                        <option value="prizes">Gi·∫£i th∆∞·ªüng</option>
                        <option value="submit">N·ªôp b√†i</option>
                        <option value="ai-assistant">Tr·ª£ l√Ω AI</option>
                    </select>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        <!-- Trang ch·ªß -->
        <div id="page-home" class="page-content active">
            <div class="text-center bg-cover bg-center rounded-xl p-8 md:p-16" style="background-image: linear-gradient(rgba(0, 74, 173, 0.8), rgba(0, 74, 173, 0.8)), url('https://placehold.co/1200x400/004AAD/FFF?text=T%E1%BB%B1+h%C3%A0o+Vi%E1%BB%87t+Nam');">
                <h1 class="text-4xl md:text-6xl font-black text-white uppercase text-shadow">Thanh ni√™n T√¥ Hi·ªáu</h1>
                <h2 class="text-2xl md:text-4xl font-bold text-[#FFC100] mt-2 text-shadow">T·ª± h√†o Vi·ªát Nam - S√°ng t·∫°o v√¨ T·ªï qu·ªëc</h2>
                <p class="text-white mt-4 max-w-2xl mx-auto">S√¢n ch∆°i s√°ng t·∫°o nh√¢n d·ªãp k·ª∑ ni·ªám 80 nƒÉm C√°ch m·∫°ng Th√°ng T√°m v√† Qu·ªëc kh√°nh 2/9.</p>
            </div>
            <div class="card mt-8">
                <h3 class="text-2xl font-bold text-center text-[#004AAD] mb-4">Th·ªùi gian nh·∫≠n b√†i thi c√≤n l·∫°i</h3>
                <div id="countdown" class="flex justify-center gap-4 md:gap-8 text-center">
                    <div>
                        <div id="days" class="text-4xl md:text-6xl font-bold bg-gray-100 p-4 rounded-lg">00</div>
                        <div class="mt-2 text-sm font-semibold">Ng√†y</div>
                    </div>
                    <div>
                        <div id="hours" class="text-4xl md:text-6xl font-bold bg-gray-100 p-4 rounded-lg">00</div>
                        <div class="mt-2 text-sm font-semibold">Gi·ªù</div>
                    </div>
                    <div>
                        <div id="minutes" class="text-4xl md:text-6xl font-bold bg-gray-100 p-4 rounded-lg">00</div>
                        <div class="mt-2 text-sm font-semibold">Ph√∫t</div>
                    </div>
                    <div>
                        <div id="seconds" class="text-4xl md:text-6xl font-bold bg-gray-100 p-4 rounded-lg">00</div>
                        <div class="mt-2 text-sm font-semibold">Gi√¢y</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Th·ªÉ l·ªá -->
        <div id="page-rules" class="page-content">
            <div class="card mb-8">
                <h3 class="text-2xl font-bold text-center text-[#004AAD] mb-4">ƒê·ªëi t∆∞·ª£ng tham gia</h3>
                <div class="flex flex-col md:flex-row justify-center items-center gap-8">
                    <div class="text-center">
                        <p class="text-6xl">üë§</p>
                        <p class="mt-2 font-bold text-lg">C√° nh√¢n</p>
                    </div>
                    <div class="text-gray-400 text-2xl font-light">HO·∫∂C</div>
                    <div class="text-center">
                        <p class="text-6xl">üë•</p>
                        <p class="mt-2 font-bold text-lg">Nh√≥m (T·ªëi ƒëa 5 ng∆∞·ªùi)</p>
                    </div>
                </div>
                <p class="text-center mt-4 text-gray-600">D√†nh cho t·∫•t c·∫£ ƒëo√†n vi√™n, thanh thi·∫øu nhi, sinh vi√™n ƒëang sinh s·ªëng, h·ªçc t·∫≠p, v√† c√¥ng t√°c t·∫°i ph∆∞·ªùng T√¥ Hi·ªáu, t·ªânh S∆°n La.</p>
            </div>
            <div class="card mb-8">
                <h3 class="text-2xl font-bold text-center text-[#004AAD] mb-6">N·ªôi dung, H√¨nh th·ª©c & Ti√™u chu·∫©n d·ª± thi</h3>
                <div class="mb-6 flex flex-wrap justify-center border-b border-gray-200">
                    <button class="tab-button py-2 px-4 font-semibold border-b-4 border-transparent transition active" data-tab="poster">üé® Poster/Infographic</button>
                    <button class="tab-button py-2 px-4 font-semibold border-b-4 border-transparent transition" data-tab="video">üé¨ Video/H√¨nh ·∫£nh</button>
                    <button class="tab-button py-2 px-4 font-semibold border-b-4 border-transparent transition" data-tab="writing">‚úçÔ∏è B√†i vi·∫øt & "Check-in"</button>
                </div>
                <div id="poster" class="tab-content active">
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                        <li><strong>Ch·ªß ƒë·ªÅ:</strong> Tuy√™n truy·ªÅn v·ªÅ C√°ch m·∫°ng Th√°ng T√°m, Qu·ªëc kh√°nh 2/9, ho·∫∑c vai tr√≤ c·ªßa thanh ni√™n.</li>
                        <li><strong>ƒê·ªãnh d·∫°ng file:</strong> JPG, JPEG, PNG.</li>
                        <li><strong>Dung l∆∞·ª£ng t·ªëi thi·ªÉu:</strong> 2MB.</li>
                        <li><strong>Th√¥ng ƒëi·ªáp ch√≠nh:</strong> Kh√¥ng qu√° 14 t·ª´.</li>
                    </ul>
                </div>
                <div id="video" class="tab-content">
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                         <li><strong>Ch·ªß ƒë·ªÅ:</strong> T√°i hi·ªán s·ª± ki·ªán l·ªãch s·ª≠, k·ªÉ chuy·ªán v·ªÅ l√≤ng y√™u n∆∞·ªõc.</li>
                        <li><strong>Video:</strong> T·ªëi ƒëa 3 ph√∫t, h√¨nh ·∫£nh r√µ n√©t.</li>
                        <li><strong>H√¨nh ·∫£nh:</strong> T·ªëi thi·ªÉu 1200px, ƒë·ªãnh d·∫°ng JPEG, t·ªëi ƒëa 5MB. Kh√¥ng scan, kh√¥ng bo vi·ªÅn, kh√¥ng logo.</li>
                    </ul>
                </div>
                <div id="writing" class="tab-content">
                    <ul class="list-disc list-inside space-y-2 text-gray-700">
                        <li><strong>Ch·ªß ƒë·ªÅ:</strong> Ch·ª•p ·∫£nh t·∫°i di t√≠ch l·ªãch s·ª≠ ·ªü S∆°n La v√† chia s·∫ª c·∫£m nh·∫≠n.</li>
                        <li><strong>B√†i vi·∫øt:</strong> 500 - 1000 t·ª´.</li>
                        <li><strong>Y√™u c·∫ßu:</strong> K√®m ·∫£nh "check-in" ch·∫•t l∆∞·ª£ng t·ªët.</li>
                    </ul>
                </div>
            </div>
             <div class="card">
                <h3 class="text-2xl font-bold text-center text-[#004AAD] mb-6">Quy ƒë·ªãnh chung & T√°c quy·ªÅn</h3>
                <ul class="space-y-3 text-gray-700">
                    <li class="flex items-start"><span class="mr-3 text-xl text-[#0079FF]">‚úÖ</span><span>S·∫£n ph·∫©m ph·∫£i c√≥ n·ªôi dung t√≠ch c·ª±c, ph√π h·ª£p thu·∫ßn phong m·ªπ t·ª•c v√† ph√°p lu·∫≠t.</span></li>
                    <li class="flex items-start"><span class="mr-3 text-xl text-[#0079FF]">üóìÔ∏è</span><span>S·∫£n ph·∫©m ƒë∆∞·ª£c s√°ng t√°c trong v√≤ng <strong>06 th√°ng</strong> g·∫ßn nh·∫•t.</span></li>
                    <li class="flex items-start"><span class="mr-3 text-xl text-[#0079FF]">üèÜ</span><span>S·∫£n ph·∫©m ph·∫£i ƒë·∫£m b·∫£o ch∆∞a t·ª´ng d·ª± thi ho·∫∑c ƒëo·∫°t gi·∫£i t·∫°i b·∫•t k·ª≥ cu·ªôc thi n√†o kh√°c.</span></li>
                    <li class="flex items-start"><span class="mr-3 text-xl text-[#0079FF]">¬©Ô∏è</span><span>T√°c gi·∫£ t·ª± ch·ªãu tr√°ch nhi·ªám v·ªÅ b·∫£n quy·ªÅn.</span></li>
                    <li class="flex items-start"><span class="mr-3 text-xl text-[#0079FF]">üì¢</span><span>BTC c√≥ to√†n quy·ªÅn s·ª≠ d·ª•ng c√°c t√°c ph·∫©m ƒë·∫°t gi·∫£i ƒë·ªÉ ph·ª•c v·ª• c√¥ng t√°c tuy√™n truy·ªÅn.</span></li>
                </ul>
            </div>
        </div>

        <!-- Gi·∫£i th∆∞·ªüng -->
        <div id="page-prizes" class="page-content">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="card">
                    <h3 class="text-2xl font-bold text-center text-[#004AAD] mb-4">C∆° c·∫•u gi·∫£i th∆∞·ªüng ch√≠nh</h3>
                    <div class="h-96"><canvas id="prizesChart"></canvas></div>
                </div>
                <div class="card">
                    <h3 class="text-2xl font-bold text-center text-[#004AAD] mb-4">C√°c gi·∫£i kh√°c</h3>
                    <div class="space-y-4">
                        <div class="p-4 bg-blue-50 rounded-lg">
                            <h4 class="font-bold text-lg">05 Gi·∫£i Khuy·∫øn kh√≠ch</h4>
                            <p>Gi·∫•y khen & Qu√† l∆∞u ni·ªám √Ω nghƒ©a t·ª´ BTC.</p>
                        </div>
                        <div class="p-4 bg-yellow-50 rounded-lg">
                            <h4 class="font-bold text-lg">10 Gi·∫£i Minigame</h4>
                            <p>Qu√† l∆∞u ni·ªám (c·ªù T·ªï qu·ªëc, s·ªï tay,...) cho ng∆∞·ªùi tham gia "Tr·∫£ l·ªùi nhanh, qu√† li·ªÅn tay" tr√™n Fanpage.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- N·ªôp b√†i -->
        <div id="page-submit" class="page-content">
            <div class="card">
                <h3 class="text-3xl font-bold text-center text-[#004AAD] mb-6">Bi·ªÉu m·∫´u n·ªôp b√†i d·ª± thi</h3>
                <form id="submission-form" class="max-w-2xl mx-auto space-y-4">
                    <div>
                        <label for="author-name" class="font-semibold">H·ªç t√™n t√°c gi·∫£ / T√™n nh√≥m:</label>
                        <input type="text" id="author-name" class="w-full mt-1 p-2 border border-gray-300 rounded-md" required>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="birth-year" class="font-semibold">NƒÉm sinh:</label>
                            <input type="number" id="birth-year" class="w-full mt-1 p-2 border border-gray-300 rounded-md" required>
                        </div>
                        <div>
                            <label for="phone" class="font-semibold">S·ªë ƒëi·ªán tho·∫°i:</label>
                            <input type="tel" id="phone" class="w-full mt-1 p-2 border border-gray-300 rounded-md" required>
                        </div>
                    </div>
                    <div>
                        <label for="address" class="font-semibold">ƒê·ªãa ch·ªâ li√™n h·ªá:</label>
                        <input type="text" id="address" class="w-full mt-1 p-2 border border-gray-300 rounded-md" required>
                    </div>
                    <div>
                        <label for="work-title" class="font-semibold">T√™n t√°c ph·∫©m:</label>
                        <input type="text" id="work-title" class="w-full mt-1 p-2 border border-gray-300 rounded-md" required>
                    </div>
                    <div>
                        <label for="work-message" class="font-semibold">Th√¥ng ƒëi·ªáp ch√≠nh (Kh√¥ng qu√° 14 t·ª´):</label>
                        <textarea id="work-message" rows="3" class="w-full mt-1 p-2 border border-gray-300 rounded-md" required></textarea>
                    </div>
                    <div>
                        <label for="work-file" class="font-semibold">T·ªáp t√°c ph·∫©m (·∫¢nh/Video):</label>
                        <input type="file" id="work-file" class="w-full mt-1 text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                        <p class="text-xs text-gray-500 mt-1">L∆∞u √Ω: T·ªáp s·∫Ω kh√¥ng ƒë∆∞·ª£c t·∫£i l√™n tr·ª±c ti·∫øp. B·∫°n c·∫ßn t·ª± ƒë√≠nh k√®m t·ªáp n√†y v√†o email s·∫Ω ƒë∆∞·ª£c m·ªü ra ·ªü b∆∞·ªõc ti·∫øp theo.</p>
                    </div>
                    <div class="text-center pt-4">
                        <button type="submit" class="bg-[#004AAD] text-white font-bold py-3 px-8 rounded-lg hover:bg-[#003B8A] transition">T·∫°o Email N·ªôp b√†i</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Tr·ª£ l√Ω AI -->
        <div id="page-ai-assistant" class="page-content">
             <div class="card bg-gradient-to-r from-blue-50 to-indigo-50">
                <h3 class="text-2xl font-bold text-center text-[#004AAD] mb-2">‚ú® C·∫ßn C·∫£m H·ª©ng? Tr·ª£ L√Ω S√°ng T·∫°o AI Gi√∫p B·∫°n!</h3>
                <p class="text-center text-gray-600 mb-6">B√≠ √Ω t∆∞·ªüng? H√£y ch·ªçn h·∫°ng m·ª•c v√† ƒë·ªÉ AI g·ª£i √Ω cho b·∫°n nh·ªØng concept ƒë·ªôc ƒë√°o!</p>
                <div class="max-w-xl mx-auto">
                    <div class="flex flex-col sm:flex-row gap-4">
                        <select id="idea-category" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0079FF] focus:border-transparent">
                            <option value="poster">Cho h·∫°ng m·ª•c Poster/Infographic</option>
                            <option value="video">Cho h·∫°ng m·ª•c Video/H√¨nh ·∫£nh</option>
                            <option value="writing">Cho h·∫°ng m·ª•c B√†i vi·∫øt & "Check-in"</option>
                        </select>
                        <button id="get-idea-btn" class="w-full sm:w-auto bg-[#004AAD] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#003B8A] transition whitespace-nowrap">G·ª£i √ù Cho T√¥i!</button>
                    </div>
                    <div id="idea-loader" class="hidden mt-4">
                        <div class="loader"></div>
                        <p class="text-center text-gray-500">AI ƒëang t∆∞ duy, vui l√≤ng ch·ªù trong gi√¢y l√°t...</p>
                    </div>
                    <div id="idea-result" class="mt-6 p-4 bg-white rounded-lg border border-gray-200"></div>
                </div>
            </div>
        </div>
    </main>

    <div id="submission-modal" class="modal-overlay">
        <div class="modal-content">
            <h3 class="text-2xl font-bold text-green-600 mb-4">S·∫Øp ho√†n t·∫•t!</h3>
            <p class="mb-4">Tr√¨nh g·ª≠i email c·ªßa b·∫°n s·∫Ω ƒë∆∞·ª£c m·ªü ra v·ªõi n·ªôi dung ƒë√£ so·∫°n s·∫µn. Vui l√≤ng th·ª±c hi·ªán 2 b∆∞·ªõc cu·ªëi c√πng:</p>
            <ol class="text-left list-decimal list-inside space-y-2 mb-6">
                <li><strong>ƒê√≠nh k√®m t·ªáp</strong> t√°c ph·∫©m c·ªßa b·∫°n v√†o email.</li>
                <li>Nh·∫•n n√∫t <strong>"G·ª≠i"</strong> (Send).</li>
            </ol>
            <button id="close-modal-btn" class="bg-gray-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-700 transition">T√¥i ƒë√£ hi·ªÉu</button>
        </div>
    </div>

    <footer class="text-center py-6 bg-[#004AAD] text-white mt-8">
        <p>&copy; 2025 ƒêo√†n Thanh ni√™n ph∆∞·ªùng T√¥ Hi·ªáu</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Navigation
            const navLinks = document.querySelectorAll('.nav-link');
            const mobileNav = document.getElementById('mobile-nav');
            const pages = document.querySelectorAll('.page-content');

            function showPage(pageId) {
                pages.forEach(page => {
                    page.classList.toggle('active', page.id === `page-${pageId}`);
                });
                navLinks.forEach(link => {
                    link.classList.toggle('active', link.dataset.page === pageId);
                });
                if (mobileNav.value !== pageId) {
                    mobileNav.value = pageId;
                }
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = e.target.dataset.page;
                    showPage(pageId);
                });
            });
            
            mobileNav.addEventListener('change', (e) => {
                showPage(e.target.value);
            });

            // Countdown Timer
            const countdownElement = document.getElementById('countdown');
            if (countdownElement) {
                const countDownDate = new Date("Aug 28, 2025 23:59:59").getTime();
                const interval = setInterval(() => {
                    const now = new Date().getTime();
                    const distance = countDownDate - now;

                    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    document.getElementById('days').innerText = String(days).padStart(2, '0');
                    document.getElementById('hours').innerText = String(hours).padStart(2, '0');
                    document.getElementById('minutes').innerText = String(minutes).padStart(2, '0');
                    document.getElementById('seconds').innerText = String(seconds).padStart(2, '0');

                    if (distance < 0) {
                        clearInterval(interval);
                        countdownElement.innerHTML = "<h4 class='text-2xl text-red-500 font-bold'>ƒê√£ h·∫øt h·∫°n n·ªôp b√†i!</h4>";
                    }
                }, 1000);
            }

            // Tabs for Rules
            const tabs = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const target = tab.dataset.tab;
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    tabContents.forEach(content => {
                        if(content.parentElement.contains(tab)) {
                            content.classList.toggle('active', content.id === target);
                        }
                    });
                });
            });

            // Prize Chart
            const prizesCtx = document.getElementById('prizesChart');
            if(prizesCtx) {
                new Chart(prizesCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: ['Gi·∫£i Nh·∫•t (1)', 'Gi·∫£i Nh√¨ (2)', 'Gi·∫£i Ba (3)'],
                        datasets: [{
                            label: 'Gi√° tr·ªã (VNƒê)',
                            data: [1000000, 500000, 300000],
                            backgroundColor: ['#FFC100', '#0079FF', '#5CACEE'],
                            borderRadius: 8
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        indexAxis: 'y',
                        scales: {
                            x: {
                                ticks: {
                                    callback: (value) => new Intl.NumberFormat('vi-VN').format(value) + ' VNƒê'
                                }
                            }
                        },
                        plugins: { legend: { display: false } }
                    }
                });
            }

            // Submission Form
            const submissionForm = document.getElementById('submission-form');
            const submissionModal = document.getElementById('submission-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            if(submissionForm) {
                submissionForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const authorName = document.getElementById('author-name').value;
                    const birthYear = document.getElementById('birth-year').value;
                    const phone = document.getElementById('phone').value;
                    const address = document.getElementById('address').value;
                    const workTitle = document.getElementById('work-title').value;
                    const workMessage = document.getElementById('work-message').value;
                    
                    const subject = `B√†i d·ª± thi: ${workTitle} - ${authorName}`;
                    const body = `
K√≠nh g·ª≠i Ban T·ªï ch·ª©c,

T√¥i l√†: ${authorName}
NƒÉm sinh: ${birthYear}
S·ªë ƒëi·ªán tho·∫°i: ${phone}
ƒê·ªãa ch·ªâ: ${address}

T√™n t√°c ph·∫©m: ${workTitle}
Th√¥ng ƒëi·ªáp: ${workMessage}

T√¥i xin g·ª≠i t√°c ph·∫©m ƒë√≠nh k√®m trong email n√†y ƒë·ªÉ tham gia cu·ªôc thi "Thanh ni√™n T√¥ Hi·ªáu t·ª± h√†o Vi·ªát Nam - S√°ng t·∫°o v√¨ T·ªï qu·ªëc".

Xin ch√¢n th√†nh c·∫£m ∆°n.
                    `;

                    const mailtoLink = `mailto:cuocthituhaothanhnientohieu@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body.trim())}`;
                    
                    submissionModal.classList.add('visible');
                    window.location.href = mailtoLink;
                });
            }

            if(closeModalBtn) {
                closeModalBtn.addEventListener('click', () => {
                    submissionModal.classList.remove('visible');
                });
            }
             if(submissionModal) {
                submissionModal.addEventListener('click', (e) => {
                    if (e.target === submissionModal) {
                         submissionModal.classList.remove('visible');
                    }
                });
            }


            // Gemini API Feature
            const getIdeaBtn = document.getElementById('get-idea-btn');
            const ideaCategorySelect = document.getElementById('idea-category');
            const ideaLoader = document.getElementById('idea-loader');
            const ideaResultDiv = document.getElementById('idea-result');

            if(getIdeaBtn) {
                getIdeaBtn.addEventListener('click', async () => {
                    ideaLoader.style.display = 'block';
                    ideaResultDiv.innerHTML = '';
                    getIdeaBtn.disabled = true;

                    const category = ideaCategorySelect.value;
                    let prompt = '';
                    const basePrompt = `As an expert in Vietnamese history and creative marketing, generate 3 distinct and creative ideas for a youth competition entry. The competition theme is "Thanh ni√™n T√¥ Hi·ªáu t·ª± h√†o Vi·ªát Nam - S√°ng t·∫°o v√¨ T·ªï qu·ªëc" (T√¥ Hi·ªáu Youth Proud of Vietnam - Creative for the Fatherland), celebrating the 80th anniversary of the August Revolution and National Day. The target audience is young people in S∆°n La, Vietnam. The ideas should be modern, inspiring, and connect with local pride. Please provide the response in Vietnamese, formatted with markdown (using ### for titles and * for list items).`;

                    switch(category) {
                        case 'poster':
                            prompt = `${basePrompt} The entry format is a Poster/Infographic. Focus on strong visual concepts, impactful slogans (under 14 words), and data visualization if applicable.`;
                            break;
                        case 'video':
                            prompt = `${basePrompt} The entry format is a short Video (under 3 minutes). Focus on compelling storytelling, modern editing styles, and emotional connection. Suggest a simple plot or visual sequence for each idea.`;
                            break;
                        case 'writing':
                            prompt = `${basePrompt} The entry format is a "Historical Check-in" article (500-1000 words) accompanied by a photo at a historical site in S∆°n La (like S∆°n La Prison). Focus on unique angles, personal reflections, and connecting the past with the present youth's role.`;
                            break;
                    }

                    try {
                        let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                        const payload = { contents: chatHistory };
                        const apiKey = ""; 
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                        
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) throw new Error(`API Error: ${response.statusText}`);

                        const result = await response.json();
                        
                        if (result.candidates && result.candidates[0]?.content?.parts[0]) {
                            let text = result.candidates[0].content.parts[0].text;
                            text = text.replace(/### (.*)/g, '<h4 class="text-lg font-bold mt-4 mb-2 text-[#004AAD]">$1</h4>');
                            text = text.replace(/\* (.*)/g, '<p class="pl-4">- $1</p>');
                            ideaResultDiv.innerHTML = text;
                        } else {
                            ideaResultDiv.innerHTML = '<p class="text-red-500">Kh√¥ng th·ªÉ t·∫°o √Ω t∆∞·ªüng v√†o l√∫c n√†y. Vui l√≤ng th·ª≠ l·∫°i sau.</p>';
                        }

                    } catch (error) {
                        console.error("Error fetching Gemini API:", error);
                        ideaResultDiv.innerHTML = '<p class="text-red-500">ƒê√£ c√≥ l·ªói x·∫£y ra. Vui l√≤ng ki·ªÉm tra k·∫øt n·ªëi m·∫°ng v√† th·ª≠ l·∫°i.</p>';
                    } finally {
                        ideaLoader.style.display = 'none';
                        getIdeaBtn.disabled = false;
                    }
                });
            }
        });
    </script>
</body>
</ht